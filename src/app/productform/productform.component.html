<div class="spinner">
  <mat-spinner  *ngIf="spinnerShow"></mat-spinner>
</div>
<div class="container-fluid" *ngIf="!spinnerShow">
  <div *ngIf="!blockRoute()">
    <h1>Add New Product</h1>
  </div>
  <div *ngIf="blockRoute()">
    <h2>Edit Product '{{this.formCode}}'</h2>
  </div>
  <form [formGroup]="AddProductForm" (ngSubmit)="onUpload()">
    <mat-form-field  appearance="outline">
      <mat-label>Name</mat-label>
      <input id="User" matInput placeholder="Enter a name..." formControlName="Name" autocomplete="off">
    </mat-form-field>
    <div *ngIf="!AddProductForm.controls['Name'].valid && (AddProductForm.controls['Name'].dirty || AddProductForm.controls['Name'].touched)">Enter a Product Name.</div>
    <mat-form-field  appearance="outline" *ngIf="!blockRoute()">
      <mat-label>Product Code</mat-label>
      <input matInput placeholder="Enter product code..." formControlName="Code" autocomplete="off">
    </mat-form-field>
    <div *ngIf="!AddProductForm.controls['Code'].valid && (AddProductForm.controls['Code'].dirty || AddProductForm.controls['Code'].touched)">Enter a Product Code.</div>
    <mat-form-field  appearance="outline">
      <mat-label>Price</mat-label>
      <input matInput placeholder="Enter Price..." formControlName="Price" autocomplete="off">
    </mat-form-field>
    <div *ngIf="!AddProductForm.controls['Price'].valid && (AddProductForm.controls['Price'].dirty || AddProductForm.controls['Price'].touched)">Please enter price & price must be number.</div>
    <mat-form-field appearance="outline">
      <mat-label>Origin</mat-label>
      <input matInput placeholder="Enter Origin..." formControlName="Origin" autocomplete="off">
    </mat-form-field>
    <div *ngIf="!AddProductForm.controls['Origin'].valid && (AddProductForm.controls['Origin'].dirty || AddProductForm.controls['Origin'].touched)">Please enter the origin of the product.</div>
    <mat-form-field appearance="outline">
      <mat-label>ImageUrl</mat-label>
      <input matInput placeholder="Enter Origin..." formControlName="ImageUrl" autocomplete="off">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Category</mat-label>
      <mat-select formControlName="Category">
        <mat-option value="Laptop">Laptop</mat-option>
        <mat-option value="Mobile">Mobile</mat-option>
        <mat-option value="Desktop">Desktop</mat-option>
      </mat-select>
    </mat-form-field>
    <div *ngIf="!AddProductForm.controls['Category'].valid && (AddProductForm.controls['Category'].dirty || AddProductForm.controls['Category'].touched)">Enter a Product Code</div>
    <br>
    <mat-form-field appearance="outline">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="Description" autocomplete="off"></textarea>
    </mat-form-field><br><br>

    <button class="w-100 btn btn-primary p-2" mat-raised-button [disabled]="AddProductForm.invalid && !blockRoute()" *ngIf="!blockRoute()" (click)="this.add=true"><mat-spinner class="spin" color="accent"  [diameter]="35" *ngIf="spinner"></mat-spinner> <span *ngIf="!spinner">Add</span></button>
    <button class="w-100 btn btn-primary p-2" mat-raised-button [disabled]="AddProductForm.invalid && blockRoute()" *ngIf="blockRoute()"><mat-spinner class="spin" color="accent"  [diameter]="35" *ngIf="spinner"></mat-spinner> <span *ngIf="!spinner">Update</span></button>
  </form><br>
  <div>
    <span *ngIf="this.errorShow" class="text-success">{{this.Errormessage}}</span>
  </div>
</div>